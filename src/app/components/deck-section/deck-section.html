<!-- Central Section: Card Deck -->
<section class="deck-section">
  <!-- Discard Pile -->
  <button
    type="button"
    class="discard-pile"
    (click)="handleViewDiscardPile()"
    [disabled]="discardPile().length === 0"
    [attr.aria-label]="
      discardPile().length === 0
        ? 'Discard pile is empty'
        : 'View discard pile, ' + discardPile().length + ' card' + (discardPile().length === 1 ? '' : 's')
    "
  >
    @if (discardPile().length === 0) {
    <img src="images/discard-placeholder.svg" alt="" class="discard-empty" />
    } @else {
    <img [src]="discardPile()[0].imageUrl" alt="" class="discard-top-card" />
    }
    <div class="discard-label" aria-hidden="true">DISCARD PILE</div>
  </button>

  <!-- Main Deck -->
  <button
    type="button"
    class="deck"
    [class.deck-empty]="deckCount() === 0"
    (click)="handleDrawCard()"
    [disabled]="!canDrawCard()"
    [attr.aria-label]="
      deckCount() === 0
        ? 'Deck is empty'
        : canDrawCard()
        ? 'Draw a card from the deck, ' + deckCount() + ' card' + (deckCount() === 1 ? '' : 's') + ' remaining'
        : 'Cannot draw card'
    "
  >
    @if (deckCount() > 0) {
    <img src="images/card-back.svg" alt="" class="card-back" />
    } @else {
    <img src="images/empty-slot.svg" alt="" class="card-back" />
    }
    <div class="deck-label" aria-hidden="true">
      {{ deckCount() > 0 ? 'Click to Draw' : 'Empty' }}
    </div>
  </button>

  <!-- End Turn Button -->
  <button
    class="end-turn-btn"
    (click)="handleEndTurn()"
    [disabled]="!isTurnActive() || !hasDrawnCards()"
    [attr.aria-label]="
      !isTurnActive() || !hasDrawnCards()
        ? 'End turn button disabled'
        : 'End turn and score your points'
    "
  >
    <div class="btn-content">END TURN</div>
  </button>
</section>
